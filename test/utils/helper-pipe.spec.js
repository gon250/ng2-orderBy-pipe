"use strict";
var helper_pipe_1 = require('../../src/utils/helper-pipe');
var DESCENDING = true;
describe('OrderByDateHelper Test', function () {
    var dates = [new Date('01/01/2017'), new Date('01/01/2016'), new Date('12/31/2016')];
    var stringAsDates = ['01/01/2017', '09/12/2004', '11/11/2009'];
    it('Should return empty', function () {
        var result = helper_pipe_1.OrderByDateHelper([]);
        expect(result).not.toBeNull();
        expect(result.length).toBe(0);
    });
    it('Should be order descending', function () {
        var result = helper_pipe_1.OrderByDateHelper(dates, DESCENDING);
        expect(result).not.toBeNull();
        expect(result[0].getTime()).toBeLessThan(result[1].getTime());
        expect(result[1].getTime()).toBeLessThan(result[2].getTime());
    });
    it('Should be order ascending', function () {
        var result = helper_pipe_1.OrderByDateHelper(dates);
        expect(result).not.toBeNull();
        expect(result[0].getTime()).toBeGreaterThan(result[1].getTime());
        expect(result[1].getTime()).toBeGreaterThan(result[2].getTime());
    });
    it('Should be order descending with dates as string values', function () {
        var result = helper_pipe_1.OrderByDateHelper(stringAsDates, DESCENDING);
        expect(result).not.toBeNull();
        expect(new Date(result[0]).getTime()).toBeLessThan(new Date(result[1]).getTime());
        expect(new Date(result[1]).getTime()).toBeLessThan(new Date(result[2]).getTime());
    });
    it('Should be order ascending with dates as string values', function () {
        var result = helper_pipe_1.OrderByDateHelper(stringAsDates);
        expect(result).not.toBeNull();
        expect(new Date(result[0]).getTime()).toBeGreaterThan(new Date(result[1]).getTime());
        expect(new Date(result[1]).getTime()).toBeGreaterThan(new Date(result[2]).getTime());
    });
});
describe('OrderByNumber Test', function () {
    var numbers = [1, 4, 2, 5, 6, 12, 1];
    it('Should return empty', function () {
        var result = helper_pipe_1.OrderByNumberHelper([]);
        expect(result).not.toBeNull();
        expect(result.length).toBe(0);
    });
    it('Should be order descending', function () {
        var result = helper_pipe_1.OrderByNumberHelper(numbers, DESCENDING);
        expect(result).not.toBeNull();
        for (var i = 0; i < result.length - 1; i++) {
            expect(result[i]).toBeGreaterThanOrEqual(result[i + 1]);
        }
    });
    it('Should be order ascending', function () {
        var result = helper_pipe_1.OrderByNumberHelper(numbers);
        expect(result).not.toBeNull();
        for (var i = 0; i < result.length - 1; i++) {
            expect(result[i]).toBeLessThanOrEqual(result[i + 1]);
        }
    });
});
describe('OrderByString Test', function () {
    var strings = ['A', 'C', 'J', 'W', 'T', 'I'];
    it('Should return empty', function () {
        var result = helper_pipe_1.OrderByStringHelper([]);
        expect(result).not.toBeNull();
        expect(result.length).toBe(0);
    });
    it('Should be order descending', function () {
        var result = helper_pipe_1.OrderByStringHelper(strings, DESCENDING);
        expect(result).not.toBeNull();
        for (var i = 0; i < result.length - 1; i++) {
            expect(result[i] > result[i + 1]).toBeTruthy();
        }
    });
    it('Should be order ascending', function () {
        var result = helper_pipe_1.OrderByStringHelper(strings);
        expect(result).not.toBeNull();
        for (var i = 0; i < result.length - 1; i++) {
            expect(result[i] < result[i + 1]).toBeTruthy();
        }
    });
});
describe('OrderByArray Test', function () {
    var objects = [{ id: 1, name: 'John', dateOfBirth: new Date('07/02/1994') },
        { id: 2, name: 'James', dateOfBirth: new Date('11/11/1989') },
        { id: 3, name: 'Michael', dateOfBirth: new Date('09/12/1990') }];
    var compare = function (data, prop, descending) {
        for (var i = 0; i < data.length - 1; i++) {
            var actual = data[i];
            var next = data[i + 1];
            if (descending) {
                expect(actual[prop] > next[prop]).toBeTruthy();
            }
            else {
                expect(actual[prop] < next[prop]).toBeTruthy();
            }
        }
    };
    it('Should return empty', function () {
        var result = helper_pipe_1.OrderByArrayHelper([], '', false);
        expect(result).not.toBeNull();
        expect(result.length).toBe(0);
    });
    it('Should be order descending by number', function () {
        var result = helper_pipe_1.OrderByArrayHelper(objects, 'id', true);
        expect(result).not.toBeNull();
        compare(result, 'id', true);
    });
    it('Should be order ascending by number', function () {
        var result = helper_pipe_1.OrderByArrayHelper(objects, 'id', false);
        expect(result).not.toBeNull();
        compare(result, 'id', false);
    });
    it('Should be order descending by string', function () {
        var result = helper_pipe_1.OrderByArrayHelper(objects, 'name', true);
        expect(result).not.toBeNull();
        compare(result, 'name', true);
    });
    it('Should be order ascending by string', function () {
        var result = helper_pipe_1.OrderByArrayHelper(objects, 'name', false);
        expect(result).not.toBeNull();
        compare(result, 'name', false);
    });
    it('Should be order descending by date', function () {
        var result = helper_pipe_1.OrderByArrayHelper(objects, 'dateOfBirth', true);
        expect(result).not.toBeNull();
        compare(result, 'dateOfBirth', true);
    });
    it('Should be order ascending by date', function () {
        var result = helper_pipe_1.OrderByArrayHelper(objects, 'dateOfBirth', false);
        expect(result).not.toBeNull();
        compare(result, 'dateOfBirth', false);
    });
});

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInV0aWxzL2hlbHBlci1waXBlLnNwZWMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLDRCQUtPLDZCQUE2QixDQUFDLENBQUE7QUFFckMsSUFBTSxVQUFVLEdBQWEsSUFBSSxDQUFDO0FBRWxDLFFBQVEsQ0FBQyx3QkFBd0IsRUFBRTtJQUMvQixJQUFJLEtBQUssR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFFLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFFLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUM7SUFDckYsSUFBSSxhQUFhLEdBQUcsQ0FBQyxZQUFZLEVBQUUsWUFBWSxFQUFFLFlBQVksQ0FBQyxDQUFDO0lBRS9ELEVBQUUsQ0FBQyxxQkFBcUIsRUFBRTtRQUN0QixJQUFJLE1BQU0sR0FBRywrQkFBaUIsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUNuQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQzlCLE1BQU0sQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ2xDLENBQUMsQ0FBQyxDQUFDO0lBRUgsRUFBRSxDQUFDLDRCQUE0QixFQUFFO1FBQzdCLElBQUksTUFBTSxHQUFHLCtCQUFpQixDQUFDLEtBQUssRUFBRSxVQUFVLENBQUMsQ0FBQztRQUVsRCxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQzlCLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUM7UUFDOUQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQztJQUNsRSxDQUFDLENBQUMsQ0FBQztJQUVILEVBQUUsQ0FBQywyQkFBMkIsRUFBRTtRQUM1QixJQUFJLE1BQU0sR0FBRywrQkFBaUIsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUV0QyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQzlCLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxlQUFlLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUM7UUFDakUsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDLGVBQWUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQztJQUNyRSxDQUFDLENBQUMsQ0FBQztJQUVILEVBQUUsQ0FBQyx3REFBd0QsRUFBRTtRQUN6RCxJQUFJLE1BQU0sR0FBRywrQkFBaUIsQ0FBQyxhQUFhLEVBQUUsVUFBVSxDQUFDLENBQUM7UUFFMUQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUM5QixNQUFNLENBQUMsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxZQUFZLENBQUMsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQztRQUNsRixNQUFNLENBQUMsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxZQUFZLENBQUMsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQztJQUN0RixDQUFDLENBQUMsQ0FBQztJQUVILEVBQUUsQ0FBQyx1REFBdUQsRUFBRTtRQUN4RCxJQUFJLE1BQU0sR0FBRywrQkFBaUIsQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUU5QyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQzlCLE1BQU0sQ0FBQyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDLGVBQWUsQ0FBQyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDO1FBQ3JGLE1BQU0sQ0FBQyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDLGVBQWUsQ0FBQyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDO0lBQ3pGLENBQUMsQ0FBQyxDQUFDO0FBRVAsQ0FBQyxDQUFDLENBQUM7QUFFSCxRQUFRLENBQUMsb0JBQW9CLEVBQUU7SUFDM0IsSUFBSSxPQUFPLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUNyQyxFQUFFLENBQUMscUJBQXFCLEVBQUU7UUFDdEIsSUFBSSxNQUFNLEdBQUcsaUNBQW1CLENBQUMsRUFBRSxDQUFDLENBQUM7UUFDckMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUM5QixNQUFNLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNsQyxDQUFDLENBQUMsQ0FBQztJQUVILEVBQUUsQ0FBQyw0QkFBNEIsRUFBRTtRQUM3QixJQUFJLE1BQU0sR0FBRyxpQ0FBbUIsQ0FBQyxPQUFPLEVBQUUsVUFBVSxDQUFDLENBQUM7UUFFdEQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUM5QixHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUM7WUFDekMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLHNCQUFzQixDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUM1RCxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7SUFFSCxFQUFFLENBQUMsMkJBQTJCLEVBQUU7UUFDNUIsSUFBSSxNQUFNLEdBQUcsaUNBQW1CLENBQUMsT0FBTyxDQUFDLENBQUM7UUFFMUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUM5QixHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUM7WUFDekMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLG1CQUFtQixDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUN6RCxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7QUFDUCxDQUFDLENBQUMsQ0FBQztBQUVILFFBQVEsQ0FBQyxvQkFBb0IsRUFBRTtJQUMzQixJQUFJLE9BQU8sR0FBRyxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUM7SUFDN0MsRUFBRSxDQUFDLHFCQUFxQixFQUFFO1FBQ3RCLElBQUksTUFBTSxHQUFHLGlDQUFtQixDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3JDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDOUIsTUFBTSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDbEMsQ0FBQyxDQUFDLENBQUM7SUFFSCxFQUFFLENBQUMsNEJBQTRCLEVBQUU7UUFDN0IsSUFBSSxNQUFNLEdBQUcsaUNBQW1CLENBQUMsT0FBTyxFQUFFLFVBQVUsQ0FBQyxDQUFDO1FBRXRELE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDOUIsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxNQUFNLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDO1lBQ3pDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLFVBQVUsRUFBRSxDQUFDO1FBQ25ELENBQUM7SUFDTCxDQUFDLENBQUMsQ0FBQztJQUVILEVBQUUsQ0FBQywyQkFBMkIsRUFBRTtRQUM1QixJQUFJLE1BQU0sR0FBRyxpQ0FBbUIsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUUxQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQzlCLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsTUFBTSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQztZQUN6QyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxVQUFVLEVBQUUsQ0FBQztRQUNuRCxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7QUFDUCxDQUFDLENBQUMsQ0FBQztBQUVILFFBQVEsQ0FBQyxtQkFBbUIsRUFBRTtJQUMxQixJQUFJLE9BQU8sR0FBRyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLFdBQVcsRUFBRSxJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRTtRQUMzRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxXQUFXLEVBQUUsSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFDLEVBQUU7UUFDN0QsRUFBRSxFQUFFLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUUsV0FBVyxFQUFFLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUVqRSxJQUFJLE9BQU8sR0FBRyxVQUFVLElBQUksRUFBRSxJQUFJLEVBQUUsVUFBVTtRQUMxQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUM7WUFDdkMsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3JCLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFDdkIsRUFBRSxDQUFDLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQztnQkFDYixNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLFVBQVUsRUFBRSxDQUFDO1lBQ25ELENBQUM7WUFBQyxJQUFJLENBQUMsQ0FBQztnQkFDSixNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLFVBQVUsRUFBRSxDQUFDO1lBQ25ELENBQUM7UUFDTCxDQUFDO0lBQ0wsQ0FBQyxDQUFDO0lBRUYsRUFBRSxDQUFDLHFCQUFxQixFQUFFO1FBQ3RCLElBQUksTUFBTSxHQUFHLGdDQUFrQixDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDL0MsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUM5QixNQUFNLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNsQyxDQUFDLENBQUMsQ0FBQztJQUVILEVBQUUsQ0FBQyxzQ0FBc0MsRUFBRTtRQUN2QyxJQUFJLE1BQU0sR0FBRyxnQ0FBa0IsQ0FBQyxPQUFPLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO1FBRXJELE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDOUIsT0FBTyxDQUFDLE1BQU0sRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDaEMsQ0FBQyxDQUFDLENBQUM7SUFFSCxFQUFFLENBQUMscUNBQXFDLEVBQUU7UUFDdEMsSUFBSSxNQUFNLEdBQUcsZ0NBQWtCLENBQUMsT0FBTyxFQUFFLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQztRQUV0RCxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQzlCLE9BQU8sQ0FBQyxNQUFNLEVBQUUsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQ2pDLENBQUMsQ0FBQyxDQUFDO0lBRUgsRUFBRSxDQUFDLHNDQUFzQyxFQUFFO1FBQ3ZDLElBQUksTUFBTSxHQUFHLGdDQUFrQixDQUFDLE9BQU8sRUFBRSxNQUFNLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFFdkQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUM5QixPQUFPLENBQUMsTUFBTSxFQUFFLE1BQU0sRUFBRSxJQUFJLENBQUMsQ0FBQztJQUNsQyxDQUFDLENBQUMsQ0FBQztJQUVILEVBQUUsQ0FBQyxxQ0FBcUMsRUFBRTtRQUN0QyxJQUFJLE1BQU0sR0FBRyxnQ0FBa0IsQ0FBQyxPQUFPLEVBQUUsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDO1FBRXhELE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDOUIsT0FBTyxDQUFDLE1BQU0sRUFBRSxNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDbkMsQ0FBQyxDQUFDLENBQUM7SUFFSCxFQUFFLENBQUMsb0NBQW9DLEVBQUU7UUFDckMsSUFBSSxNQUFNLEdBQUcsZ0NBQWtCLENBQUMsT0FBTyxFQUFFLGFBQWEsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUU5RCxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQzlCLE9BQU8sQ0FBQyxNQUFNLEVBQUUsYUFBYSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ3pDLENBQUMsQ0FBQyxDQUFDO0lBRUgsRUFBRSxDQUFDLG1DQUFtQyxFQUFFO1FBQ3BDLElBQUksTUFBTSxHQUFHLGdDQUFrQixDQUFDLE9BQU8sRUFBRSxhQUFhLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFFL0QsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUM5QixPQUFPLENBQUMsTUFBTSxFQUFFLGFBQWEsRUFBRSxLQUFLLENBQUMsQ0FBQztJQUMxQyxDQUFDLENBQUMsQ0FBQztBQUNQLENBQUMsQ0FBQyxDQUFDIiwiZmlsZSI6InV0aWxzL2hlbHBlci1waXBlLnNwZWMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xyXG4gICAgT3JkZXJCeUFycmF5SGVscGVyLFxyXG4gICAgT3JkZXJCeURhdGVIZWxwZXIsXHJcbiAgICBPcmRlckJ5TnVtYmVySGVscGVyLFxyXG4gICAgT3JkZXJCeVN0cmluZ0hlbHBlclxyXG59IGZyb20gJy4uLy4uL3NyYy91dGlscy9oZWxwZXItcGlwZSc7XHJcblxyXG5jb25zdCBERVNDRU5ESU5HIDogYm9vbGVhbiA9IHRydWU7XHJcblxyXG5kZXNjcmliZSgnT3JkZXJCeURhdGVIZWxwZXIgVGVzdCcsICgpID0+IHtcclxuICAgIGxldCBkYXRlcyA9IFtuZXcgRGF0ZSgnMDEvMDEvMjAxNycpLCBuZXcgRGF0ZSgnMDEvMDEvMjAxNicpLCBuZXcgRGF0ZSgnMTIvMzEvMjAxNicpXTtcclxuICAgIGxldCBzdHJpbmdBc0RhdGVzID0gWycwMS8wMS8yMDE3JywgJzA5LzEyLzIwMDQnLCAnMTEvMTEvMjAwOSddO1xyXG5cclxuICAgIGl0KCdTaG91bGQgcmV0dXJuIGVtcHR5JywgKCkgPT4ge1xyXG4gICAgICAgIGxldCByZXN1bHQgPSBPcmRlckJ5RGF0ZUhlbHBlcihbXSk7XHJcbiAgICAgICAgZXhwZWN0KHJlc3VsdCkubm90LnRvQmVOdWxsKCk7XHJcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5sZW5ndGgpLnRvQmUoMCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnU2hvdWxkIGJlIG9yZGVyIGRlc2NlbmRpbmcnLCAoKSA9PiB7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IE9yZGVyQnlEYXRlSGVscGVyKGRhdGVzLCBERVNDRU5ESU5HKTtcclxuXHJcbiAgICAgICAgZXhwZWN0KHJlc3VsdCkubm90LnRvQmVOdWxsKCk7XHJcbiAgICAgICAgZXhwZWN0KHJlc3VsdFswXS5nZXRUaW1lKCkpLnRvQmVMZXNzVGhhbihyZXN1bHRbMV0uZ2V0VGltZSgpKTtcclxuICAgICAgICBleHBlY3QocmVzdWx0WzFdLmdldFRpbWUoKSkudG9CZUxlc3NUaGFuKHJlc3VsdFsyXS5nZXRUaW1lKCkpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ1Nob3VsZCBiZSBvcmRlciBhc2NlbmRpbmcnLCAoKSA9PiB7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IE9yZGVyQnlEYXRlSGVscGVyKGRhdGVzKTtcclxuXHJcbiAgICAgICAgZXhwZWN0KHJlc3VsdCkubm90LnRvQmVOdWxsKCk7XHJcbiAgICAgICAgZXhwZWN0KHJlc3VsdFswXS5nZXRUaW1lKCkpLnRvQmVHcmVhdGVyVGhhbihyZXN1bHRbMV0uZ2V0VGltZSgpKTtcclxuICAgICAgICBleHBlY3QocmVzdWx0WzFdLmdldFRpbWUoKSkudG9CZUdyZWF0ZXJUaGFuKHJlc3VsdFsyXS5nZXRUaW1lKCkpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ1Nob3VsZCBiZSBvcmRlciBkZXNjZW5kaW5nIHdpdGggZGF0ZXMgYXMgc3RyaW5nIHZhbHVlcycsICgpID0+IHtcclxuICAgICAgICBsZXQgcmVzdWx0ID0gT3JkZXJCeURhdGVIZWxwZXIoc3RyaW5nQXNEYXRlcywgREVTQ0VORElORyk7XHJcblxyXG4gICAgICAgIGV4cGVjdChyZXN1bHQpLm5vdC50b0JlTnVsbCgpO1xyXG4gICAgICAgIGV4cGVjdChuZXcgRGF0ZShyZXN1bHRbMF0pLmdldFRpbWUoKSkudG9CZUxlc3NUaGFuKG5ldyBEYXRlKHJlc3VsdFsxXSkuZ2V0VGltZSgpKTtcclxuICAgICAgICBleHBlY3QobmV3IERhdGUocmVzdWx0WzFdKS5nZXRUaW1lKCkpLnRvQmVMZXNzVGhhbihuZXcgRGF0ZShyZXN1bHRbMl0pLmdldFRpbWUoKSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnU2hvdWxkIGJlIG9yZGVyIGFzY2VuZGluZyB3aXRoIGRhdGVzIGFzIHN0cmluZyB2YWx1ZXMnLCAoKSA9PiB7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IE9yZGVyQnlEYXRlSGVscGVyKHN0cmluZ0FzRGF0ZXMpO1xyXG5cclxuICAgICAgICBleHBlY3QocmVzdWx0KS5ub3QudG9CZU51bGwoKTtcclxuICAgICAgICBleHBlY3QobmV3IERhdGUocmVzdWx0WzBdKS5nZXRUaW1lKCkpLnRvQmVHcmVhdGVyVGhhbihuZXcgRGF0ZShyZXN1bHRbMV0pLmdldFRpbWUoKSk7XHJcbiAgICAgICAgZXhwZWN0KG5ldyBEYXRlKHJlc3VsdFsxXSkuZ2V0VGltZSgpKS50b0JlR3JlYXRlclRoYW4obmV3IERhdGUocmVzdWx0WzJdKS5nZXRUaW1lKCkpO1xyXG4gICAgfSk7XHJcblxyXG59KTtcclxuXHJcbmRlc2NyaWJlKCdPcmRlckJ5TnVtYmVyIFRlc3QnLCAoKSA9PiB7XHJcbiAgICBsZXQgbnVtYmVycyA9IFsxLCA0LCAyLCA1LCA2LCAxMiwgMV07XHJcbiAgICBpdCgnU2hvdWxkIHJldHVybiBlbXB0eScsICgpID0+IHtcclxuICAgICAgICBsZXQgcmVzdWx0ID0gT3JkZXJCeU51bWJlckhlbHBlcihbXSk7XHJcbiAgICAgICAgZXhwZWN0KHJlc3VsdCkubm90LnRvQmVOdWxsKCk7XHJcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5sZW5ndGgpLnRvQmUoMCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnU2hvdWxkIGJlIG9yZGVyIGRlc2NlbmRpbmcnLCAoKSA9PiB7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IE9yZGVyQnlOdW1iZXJIZWxwZXIobnVtYmVycywgREVTQ0VORElORyk7XHJcblxyXG4gICAgICAgIGV4cGVjdChyZXN1bHQpLm5vdC50b0JlTnVsbCgpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzdWx0Lmxlbmd0aCAtIDE7IGkrKykge1xyXG4gICAgICAgICAgICBleHBlY3QocmVzdWx0W2ldKS50b0JlR3JlYXRlclRoYW5PckVxdWFsKHJlc3VsdFtpICsgMV0pO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdTaG91bGQgYmUgb3JkZXIgYXNjZW5kaW5nJywgKCkgPT4ge1xyXG4gICAgICAgIGxldCByZXN1bHQgPSBPcmRlckJ5TnVtYmVySGVscGVyKG51bWJlcnMpO1xyXG5cclxuICAgICAgICBleHBlY3QocmVzdWx0KS5ub3QudG9CZU51bGwoKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlc3VsdC5sZW5ndGggLSAxOyBpKyspIHtcclxuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdFtpXSkudG9CZUxlc3NUaGFuT3JFcXVhbChyZXN1bHRbaSArIDFdKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufSk7XHJcblxyXG5kZXNjcmliZSgnT3JkZXJCeVN0cmluZyBUZXN0JywgKCkgPT4ge1xyXG4gICAgbGV0IHN0cmluZ3MgPSBbJ0EnLCAnQycsICdKJywgJ1cnLCAnVCcsICdJJ107XHJcbiAgICBpdCgnU2hvdWxkIHJldHVybiBlbXB0eScsICgpID0+IHtcclxuICAgICAgICBsZXQgcmVzdWx0ID0gT3JkZXJCeVN0cmluZ0hlbHBlcihbXSk7XHJcbiAgICAgICAgZXhwZWN0KHJlc3VsdCkubm90LnRvQmVOdWxsKCk7XHJcbiAgICAgICAgZXhwZWN0KHJlc3VsdC5sZW5ndGgpLnRvQmUoMCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnU2hvdWxkIGJlIG9yZGVyIGRlc2NlbmRpbmcnLCAoKSA9PiB7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IE9yZGVyQnlTdHJpbmdIZWxwZXIoc3RyaW5ncywgREVTQ0VORElORyk7XHJcblxyXG4gICAgICAgIGV4cGVjdChyZXN1bHQpLm5vdC50b0JlTnVsbCgpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzdWx0Lmxlbmd0aCAtIDE7IGkrKykge1xyXG4gICAgICAgICAgICBleHBlY3QocmVzdWx0W2ldID4gcmVzdWx0W2kgKyAxXSkudG9CZVRydXRoeSgpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGl0KCdTaG91bGQgYmUgb3JkZXIgYXNjZW5kaW5nJywgKCkgPT4ge1xyXG4gICAgICAgIGxldCByZXN1bHQgPSBPcmRlckJ5U3RyaW5nSGVscGVyKHN0cmluZ3MpO1xyXG5cclxuICAgICAgICBleHBlY3QocmVzdWx0KS5ub3QudG9CZU51bGwoKTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlc3VsdC5sZW5ndGggLSAxOyBpKyspIHtcclxuICAgICAgICAgICAgZXhwZWN0KHJlc3VsdFtpXSA8IHJlc3VsdFtpICsgMV0pLnRvQmVUcnV0aHkoKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufSk7XHJcblxyXG5kZXNjcmliZSgnT3JkZXJCeUFycmF5IFRlc3QnLCAoKSA9PiB7XHJcbiAgICBsZXQgb2JqZWN0cyA9IFt7IGlkOiAxLCBuYW1lOiAnSm9obicsIGRhdGVPZkJpcnRoOiBuZXcgRGF0ZSgnMDcvMDIvMTk5NCcpIH0sXHJcbiAgICB7IGlkOiAyLCBuYW1lOiAnSmFtZXMnLCBkYXRlT2ZCaXJ0aDogbmV3IERhdGUoJzExLzExLzE5ODknKSB9LFxyXG4gICAgeyBpZDogMywgbmFtZTogJ01pY2hhZWwnLCBkYXRlT2ZCaXJ0aDogbmV3IERhdGUoJzA5LzEyLzE5OTAnKSB9XTtcclxuXHJcbiAgICBsZXQgY29tcGFyZSA9IGZ1bmN0aW9uIChkYXRhLCBwcm9wLCBkZXNjZW5kaW5nKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aCAtIDE7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgYWN0dWFsID0gZGF0YVtpXTtcclxuICAgICAgICAgICAgbGV0IG5leHQgPSBkYXRhW2kgKyAxXTtcclxuICAgICAgICAgICAgaWYgKGRlc2NlbmRpbmcpIHtcclxuICAgICAgICAgICAgICAgIGV4cGVjdChhY3R1YWxbcHJvcF0gPiBuZXh0W3Byb3BdKS50b0JlVHJ1dGh5KCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBleHBlY3QoYWN0dWFsW3Byb3BdIDwgbmV4dFtwcm9wXSkudG9CZVRydXRoeSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBpdCgnU2hvdWxkIHJldHVybiBlbXB0eScsICgpID0+IHtcclxuICAgICAgICBsZXQgcmVzdWx0ID0gT3JkZXJCeUFycmF5SGVscGVyKFtdLCAnJywgZmFsc2UpO1xyXG4gICAgICAgIGV4cGVjdChyZXN1bHQpLm5vdC50b0JlTnVsbCgpO1xyXG4gICAgICAgIGV4cGVjdChyZXN1bHQubGVuZ3RoKS50b0JlKDApO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ1Nob3VsZCBiZSBvcmRlciBkZXNjZW5kaW5nIGJ5IG51bWJlcicsICgpID0+IHtcclxuICAgICAgICBsZXQgcmVzdWx0ID0gT3JkZXJCeUFycmF5SGVscGVyKG9iamVjdHMsICdpZCcsIHRydWUpO1xyXG5cclxuICAgICAgICBleHBlY3QocmVzdWx0KS5ub3QudG9CZU51bGwoKTtcclxuICAgICAgICBjb21wYXJlKHJlc3VsdCwgJ2lkJywgdHJ1ZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnU2hvdWxkIGJlIG9yZGVyIGFzY2VuZGluZyBieSBudW1iZXInLCAoKSA9PiB7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IE9yZGVyQnlBcnJheUhlbHBlcihvYmplY3RzLCAnaWQnLCBmYWxzZSk7XHJcblxyXG4gICAgICAgIGV4cGVjdChyZXN1bHQpLm5vdC50b0JlTnVsbCgpO1xyXG4gICAgICAgIGNvbXBhcmUocmVzdWx0LCAnaWQnLCBmYWxzZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnU2hvdWxkIGJlIG9yZGVyIGRlc2NlbmRpbmcgYnkgc3RyaW5nJywgKCkgPT4ge1xyXG4gICAgICAgIGxldCByZXN1bHQgPSBPcmRlckJ5QXJyYXlIZWxwZXIob2JqZWN0cywgJ25hbWUnLCB0cnVlKTtcclxuXHJcbiAgICAgICAgZXhwZWN0KHJlc3VsdCkubm90LnRvQmVOdWxsKCk7XHJcbiAgICAgICAgY29tcGFyZShyZXN1bHQsICduYW1lJywgdHJ1ZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBpdCgnU2hvdWxkIGJlIG9yZGVyIGFzY2VuZGluZyBieSBzdHJpbmcnLCAoKSA9PiB7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IE9yZGVyQnlBcnJheUhlbHBlcihvYmplY3RzLCAnbmFtZScsIGZhbHNlKTtcclxuXHJcbiAgICAgICAgZXhwZWN0KHJlc3VsdCkubm90LnRvQmVOdWxsKCk7XHJcbiAgICAgICAgY29tcGFyZShyZXN1bHQsICduYW1lJywgZmFsc2UpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ1Nob3VsZCBiZSBvcmRlciBkZXNjZW5kaW5nIGJ5IGRhdGUnLCAoKSA9PiB7XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IE9yZGVyQnlBcnJheUhlbHBlcihvYmplY3RzLCAnZGF0ZU9mQmlydGgnLCB0cnVlKTtcclxuXHJcbiAgICAgICAgZXhwZWN0KHJlc3VsdCkubm90LnRvQmVOdWxsKCk7XHJcbiAgICAgICAgY29tcGFyZShyZXN1bHQsICdkYXRlT2ZCaXJ0aCcsIHRydWUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaXQoJ1Nob3VsZCBiZSBvcmRlciBhc2NlbmRpbmcgYnkgZGF0ZScsICgpID0+IHtcclxuICAgICAgICBsZXQgcmVzdWx0ID0gT3JkZXJCeUFycmF5SGVscGVyKG9iamVjdHMsICdkYXRlT2ZCaXJ0aCcsIGZhbHNlKTtcclxuXHJcbiAgICAgICAgZXhwZWN0KHJlc3VsdCkubm90LnRvQmVOdWxsKCk7XHJcbiAgICAgICAgY29tcGFyZShyZXN1bHQsICdkYXRlT2ZCaXJ0aCcsIGZhbHNlKTtcclxuICAgIH0pO1xyXG59KTtcclxuIl19
